"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[6478],{2342:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>R,contentTitle:()=>P,default:()=>_,frontMatter:()=>L,metadata:()=>r,toc:()=>B});const r=JSON.parse('{"id":"lattice","title":"Lattice","description":"","source":"@site/src/examples/lattice.mdx","sourceDirName":".","slug":"/lattice","permalink":"/examples/lattice","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"examplesSidebar","previous":{"title":"Teohedron & Dodecahedron","permalink":"/examples/teohedron-dodecahedron"},"next":{"title":"Hilbert Curve","permalink":"/examples/hilbert"}}');var s=n(4848),i=n(8453),o=n(6540),a=n(4258),l=(n(5338),n(2478)),c=n(5890),h=n(2114),d=n(1457),u=n(3537),p=n(1309),g=n(435),x=n(3522),f=n(842),v=n(2964),b=n(3255),w=n(1997);const m=x.fA(-1,0,0,-1),j=x.fA(1,0,0,-1),y=(e,t)=>{const n=e.map((e=>f.vt()));if(6===t.length)for(let r=0;r<e.length;r++)f.l0(n[r],e[r],t);else for(let r=0;r<e.length;r++)f.ZF(n[r],e[r],t);return n},k=()=>{const[e,t]=(0,o.useState)(2),[n,r]=(0,o.useState)(!0),[i,a]=(0,o.useState)({triangles:!0,path:!0,points:!1,labels:!1,anchors:!1}),[x,k]=(0,o.useState)("uv"),[C,A]=(0,o.useState)(!1),[S,M]=(0,o.useState)(100),L=(0,o.useMemo)((()=>n?w.tK.getVertices():w.LF.getVertices()),[n]),P=(0,o.useMemo)((()=>{const e=v.kN(v.vt(),w.LF.getVertices()[2]);return{M_translateLeft:v.B8(v.vt(),e),M_translateRight:e}}),[]),R=(0,o.useCallback)((e=>{const t=Array.from({length:Math.pow(4,e)},((e,t)=>t)),n=Math.pow(2,-e);return t.map((t=>(0,b.ky)(t,e,x))).map(((e,t)=>function(e,t,n,r,s,i,o){const a=f.ZF(f.vt(),e.offset,s);let l=r;e.flips[0]===b.NO&&e.flips[1]===b._Y&&(l=y(l,m));const c=e.k,h=e.flips[0]+e.flips[1];((-2===h||2===h)&&c>1||0===h&&(0===c||3===c))&&(l=y(l,j));e.flips[0]===b._Y&&e.flips[1]===b._Y?l=y(l,m):e.flips[0]===b._Y?l=y(l,i):e.flips[1]===b._Y&&(l=y(l,o));const d=l.map((e=>{const n=f.WQ([0,0],a,e);return f.hs(n,n,t),n})),u=d.reduce(((e,t)=>f.WQ(e,e,t)),[0,0]);return f.hs(u,u,1/d.length),{origin:f.hs(f.vt(),a,t),anchor:e,vertices:d,center:u,index:n}}(e,n,t,L,w.P9,P.M_translateLeft,P.M_translateRight)))}),[L,w.P9,P,x]),B=(0,o.useCallback)((e=>e.slice(0,-1).map(((t,n)=>({path:[t.center,e[n+1].center],index:t.index})))),[]),[F,_]=(0,o.useState)((()=>R(e))),[I,N]=(0,o.useState)((()=>B(F)));(0,o.useEffect)((()=>{const t=R(e);_(t),N(B(t))}),[e,R,B]);const Q=(0,o.useCallback)((e=>{t(e)}),[]),T=(0,o.useMemo)((()=>I.length/100),[I.length]),V=(0,o.useMemo)((()=>{const e=I.length;return[0,Math.floor(e*(S/100))]}),[I.length,S]);const W=e=>{let{resolution:t,onResolutionChange:n,layerVisibility:r,setLayerVisibility:i,usePentagon:o,setUsePentagon:a,orientation:l,setOrientation:c,quaternaryColor:h,setQuaternaryColor:d}=e;return(0,s.jsxs)("div",{style:{position:"absolute",top:"20px",left:"20px",background:"white",padding:"10px",borderRadius:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",zIndex:1},children:[(0,s.jsx)("div",{style:{marginBottom:"10px"},children:(0,s.jsxs)("label",{children:["Orientation: "," ",(0,s.jsxs)("select",{value:l,onChange:e=>c(e.target.value),style:{marginLeft:"5px"},children:[(0,s.jsx)("option",{value:"uv",children:"uv"}),(0,s.jsx)("option",{value:"vu",children:"vu"}),(0,s.jsx)("option",{value:"uw",children:"uw"}),(0,s.jsx)("option",{value:"wu",children:"wu"}),(0,s.jsx)("option",{value:"vw",children:"vw"}),(0,s.jsx)("option",{value:"wv",children:"wv"})]})]})}),(0,s.jsx)("div",{style:{marginBottom:"10px"},children:(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:o,onChange:e=>a(e.target.checked)})," Use Pentagon"]})}),(0,s.jsx)("div",{style:{marginBottom:"10px"},children:(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:h,onChange:e=>d(e.target.checked)})," Quaternary Color"]})}),(0,s.jsx)("div",{style:{marginBottom:"10px",borderTop:"1px solid #ccc",paddingTop:"10px"},children:(0,s.jsxs)("label",{children:["Resolution: ",t,(0,s.jsx)("input",{type:"range",min:"1",max:"8",value:t,onChange:e=>n(Number(e.target.value)),style:{marginLeft:"10px"}})]})}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"5px",borderTop:"1px solid #ccc",paddingTop:"10px"},children:[(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:r.triangles,onChange:e=>i({...r,triangles:e.target.checked})})," Show ",o?"Pentagon":"Triangle","s"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:r.path,onChange:e=>i({...r,path:e.target.checked})})," Show Path"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:r.points,onChange:e=>i({...r,points:e.target.checked})})," Show Points"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:r.labels,onChange:e=>i({...r,labels:e.target.checked})})," Show Labels"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:r.anchors,onChange:e=>i({...r,anchors:e.target.checked})})," Show Anchors"]})]})]})},z=e=>{let{value:t,onChange:n}=e;return(0,s.jsxs)("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"white",padding:"10px",borderRadius:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",zIndex:1,width:"300px",textAlign:"center"},children:[(0,s.jsxs)("div",{style:{marginBottom:"5px"},children:["Show ",t,"% of Path"]}),(0,s.jsx)("input",{type:"range",min:"1",max:"100",value:t,onChange:e=>n(Number(e.target.value)),style:{width:"100%"}})]})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A,{initialViewState:{latitude:0,longitude:.4,zoom:9},controller:!0,layers:((e,t,n,r,s)=>{const o={extensions:[new p.A({filterSize:1})],getFilterValue:e=>e.index,filterSoftRange:e,filterRange:e.map(((e,t)=>0===t?e-s:e+s))},a={lineWidthMinPixels:1,stroked:!0},l=(0,g.A)({attr:e=>e.index,colors:"Geyser",domain:Array.from({length:10}).map(((e,n)=>n*t/10))});return[new c.A({id:"triangles",data:n,getPolygon:e=>e.vertices,getFillColor:e=>{if(!C)return[100,100,100,200];const{k:t}=e.anchor;return 0===t?[255,99,71,200]:1===t?[50,205,50,200]:2===t?[147,112,219,200]:[255,215,0,200]},updateTriggers:{getFillColor:[C]},getLineColor:[135,206,235,100],filled:!0,visible:i.triangles,...a,...o}),new h.A({id:"path",data:r,getPath:e=>e.path,getColor:l,getWidth:4,widthUnits:"pixels",capRounded:!0,visible:i.path,...o}),new d.A({id:"labels",data:n,getPosition:e=>f.Cc(f.vt(),e.origin,e.center,.2),getText:e=>{const[t,n]=e.anchor.offset;return`[${t},${n}]`},getSize:16,getColor:[255,255,255,255],getTextAnchor:"middle",getAlignmentBaseline:"center",visible:i.labels,...o}),new u.A({id:"points",data:n,getPosition:e=>e.center,getFillColor:l,getRadius:8,radiusUnits:"pixels",getLineColor:[255,255,255],visible:i.points,...a,...o}),new u.A({id:"anchors",data:n,getPosition:e=>e.origin,getFillColor:[0,0,0],getLineColor:[255,255,255],getRadius:e=>[1,6,9,14,18,21,26,29].includes(e.index%32)?10:5,radiusUnits:"pixels",stroked:!0,lineWidthMinPixels:1,visible:i.anchors,...o})]})(V,I.length,F,I,T)}),(0,s.jsx)(W,{resolution:e,onResolutionChange:Q,layerVisibility:i,setLayerVisibility:a,usePentagon:n,setUsePentagon:r,orientation:x,setOrientation:k,quaternaryColor:C,setQuaternaryColor:A}),(0,s.jsx)(z,{value:S,onChange:M})]})},C=k;var A=n(999);class S extends o.Component{static title="Lattice";static code=(()=>`${a.l}/examples/website/lattice`)();static parameters={};static renderInfo(e){return(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:"A5 Lattice Explorer"}),(0,s.jsx)("p",{children:"Shows the relationship between the triangles in the A5 lattice and the pentagon tiling and how they are indexed by the Hilbert curve."})]})}render(){return(0,s.jsx)("div",{style:{width:"100%",height:"100%",position:"absolute",background:"#111"},children:(0,s.jsx)(C,{...this.props})})}}const M=(0,A.xv)(S),L={},P="Lattice",R={},B=[];function F(e){const t={h1:"h1",header:"header",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"lattice",children:"Lattice"})}),"\n","\n",(0,s.jsx)(M,{})]})}function _(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(F,{...e})}):F(e)}},2964:(e,t,n)=>{n.d(t,{$0:()=>a,B8:()=>i,kN:()=>l,lw:()=>o,vt:()=>s});var r=n(7823);function s(){var e=new r.tb(6);return r.tb!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function i(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=n*i-r*s;return l?(l=1/l,e[0]=i*l,e[1]=-r*l,e[2]=-s*l,e[3]=n*l,e[4]=(s*a-i*o)*l,e[5]=(r*o-n*a)*l,e):null}function o(e,t,n){var r=t[0],s=t[1],i=t[2],o=t[3],a=t[4],l=t[5],c=n[0],h=n[1],d=n[2],u=n[3],p=n[4],g=n[5];return e[0]=r*c+i*h,e[1]=s*c+o*h,e[2]=r*d+i*u,e[3]=s*d+o*u,e[4]=r*p+i*g+a,e[5]=s*p+o*g+l,e}function a(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e}function l(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}},3255:(e,t,n)=>{n.d(t,{NO:()=>o,_Y:()=>i,eS:()=>w,ky:()=>f});var r=n(7823),s=n(842);r.fG(Float64Array);const i=-1,o=1,a=e=>{let[t,n]=e;return s.fA(t-n,n)},l=s.fA(1,0),c=s.fA(0,1),h=s.ze(s.vt(),l),d=s.ze(s.vt(),c),u=s.fA(0,0),p=(e,t)=>{let[n,r]=t,a=u,p=u;switch(n===o&&r===o?(a=l,p=c):n===i&&r===o?(a=d,p=h):n===o&&r===i?(a=c,p=l):n===i&&r===i&&(a=h,p=d),e){case 0:return u;case 1:return a;case 2:return s.WQ(s.vt(),p,a);case 3:return s.Ln(s.vt(),p,a,2);default:throw new Error(`Invalid Quaternary value: ${e}`)}},g=e=>[[o,o],[o,i],[o,o],[i,o]][e],x=s.fA(-1,1),f=(e,t,n)=>{let r=BigInt(e);const o="wv"===n||"vw"===n,a="wu"===n||"uw"===n;("vu"===n||"wu"===n||"vw"===n)&&(r=(1n<<BigInt(2*t))-r-1n);const l=v(r);if(a){const{offset:[e,t],flips:[n,r]}=l;l.offset=[t,e],n===i&&s.WQ(l.offset,l.offset,x),r===i&&s.Re(l.offset,l.offset,x)}if(o){const{offset:[e,n],flips:r}=l,s=(1<<t)-(e+n);r[0]=-r[0],l.offset[1]=s,l.flips=r}return l},v=e=>{const t=Number(e)%4,n=s.vt(),r=[o,o];let i=BigInt(e);const l=[];for(;i>0n;)l.push(Number(i%4n)),i>>=2n;for(let o=l.length-1;o>=0;o--){s.hs(n,n,2);const e=p(l[o],r);s.WQ(n,n,e),s.lw(r,r,g(l[o]))}return{flips:r,k:t,offset:a(n)}},b=(e,t)=>{let[n,r]=e,s=0,o=t[0]===i?-(n+r):n+r,a=t[1]===i?-n:n,l=t[0]===i?-r:r;return s=t[0]+t[1]===0?l<1?0:a>1?3:o>1?2:1:o<1?0:a>1?3:l>1?2:1,s},w=function(e,t,n){void 0===n&&(n="uv");const r="vu"===n||"wu"===n||"vw"===n,s="wv"===n||"vw"===n,i="wu"===n||"uw"===n;let o=[...e];if(i&&(o[0]=e[1],o[1]=e[0]),s){const[e,n]=o;o[1]=(1<<t)-(e+n)}let a=m(o);return r&&(a=(1n<<BigInt(2*t))-a-1n),a},m=e=>{const t=(e=>{const t=Math.ceil(e[0])+Math.ceil(e[1]);return 0===t?1:1+Math.floor(Math.log2(t))})(e),n=new Array(t),r=[o,o],i=s.vt();for(let o=0;o<t;o++){const l=s.Re(s.vt(),e,i),c=1<<t-1-o,h=s.hs(s.vt(),l,1/c),d=b(h,r);n[o]=d;const u=a(p(d,r)),x=s.hs(s.vt(),u,c);s.WQ(i,i,x),s.lw(r,r,g(d))}let l=0n;for(let s=0;s<t;s++){const e=1n<<BigInt(2*(t-1-s));l+=BigInt(n[s])*e}return l}}}]);