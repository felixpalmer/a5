"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[1298],{1383:(t,n,e)=>{e.d(n,{$p:()=>l,Rb:()=>g,WP:()=>m,lN:()=>h,o4:()=>f,q8:()=>u,r5:()=>x,uB:()=>p});var o=e(7823),r=e(842),s=e(9699),i=e(1997);function a(t){return t*(Math.PI/180)}function c(t){return t*(180/Math.PI)}function u(t){return[r.Bw(t),Math.atan2(t[1],t[0])]}function l(t){let[n,e]=t;return[n*Math.cos(e),n*Math.sin(e)]}function f(t){return r.ZF(r.vt(),t,i.wc)}function h(t){const n=Math.atan2(t[1],t[0]),e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return[n,Math.acos(t[2]/e)]}function p(t){let[n,e]=t;return[Math.sin(e)*Math.cos(n),Math.sin(e)*Math.sin(n),Math.cos(e)]}o.fG(Float64Array);const d=93;function g(t){let[n,e]=t;return[a(n+d),a(90-e)]}function m(t){let[n,e]=t;return[c(n)-d,90-c(e)]}function x(t){const n=p(t),e=s.vt();return s.Yc(e,[0,0,1],n),e}},1921:(t,n,e)=>{e.d(n,{u$:()=>P,WH:()=>I,ce:()=>y});var o=e(7823),r=e(3522),s=e(842),i=e(1383),a=e(3243),c=e(6864),u=e(1970),l=e(1997),f=e(1148),h=e(3255);o.fG(Float64Array);const p=!1,d=s.o8(l.w),g=s.ze(s.vt(),l.w),m=[0,1,2,3,4].map((t=>{const n=r.vt();return r.$0(n,f.UT*t),n})),x=s.vt();o.fG(Float64Array);const w=r.vt();function v(t,n){const e=(0,i.q8)(t),o=(0,c.s)(e,n.quat,n.angle),u=(0,a.jS)(o,n)?n:(0,a.Sj)(o);if(u.id!==n.id){const e=s.vt();r.$0(w,n.angle),s.ZF(e,t,w);const{point:l,quat:h}=(0,a.MQ)(e,n,u);let p=0;n.angle!==u.angle&&0!==u.angle&&(p=-f.R);let d=(0,i.q8)(l);d[1]=d[1]-p;const g=(0,c.s)(d,h,p);o[0]=g[0],o[1]=g[1]}return(0,i.WP)(o)}function M(t,n){const e=t.getVertices().map((t=>v(t,n)));return u.c.normalizeLongitudes(e)}var b=e(2189);o.fG(Float64Array);const j=r.vt();function y(t,n){const e=1+n-b.To,o=[t],r=50/Math.pow(2,e);for(let u=0;u<25;u++){const n=u/25*r,e=s.fA(Math.cos(u)*n,Math.sin(u)*n);s.WQ(e,e,t),o.push(e)}const i=[];for(const s of o){const e=S(s,n);if(n<b.To||k(e,t))return(0,b.lK)(e);i.push(e)}let a=1/0,c=null;for(const u of i){const n=v(B(u).getCenter(),u.origin),e=s.xg(n,t);e<a&&(a=e,c=u)}if(c)return(0,b.lK)(c);throw new Error("No cell found")}function S(t,n){const e=(0,i.Rb)(t),o={...(0,a.Sj)(e)};r.$0(j,-o.angle);const u=(0,c.r)(e,o.quat,o.angle),p=(0,i.$p)(u),d=function(t){const n=(Math.atan2(t[1],t[0])-l.V+f.JM)%f.JM;return Math.ceil(n/f.UT)%5}(p),{segment:g,orientation:m}=(0,a.b5)(d,o);if(n<b.To)return{S:0n,segment:g,origin:o,resolution:n};if(0!==d){const t=2*f.R*d;r.$0(j,-t),s.ZF(p,p,j)}const x=1+n-b.To;s.hs(p,p,2**x);const w=(0,i.o4)(p);return{S:(0,h.eS)(w,x,m),segment:g,origin:o,resolution:n}}function B(t){let{S:n,segment:e,origin:o,resolution:r}=t;const{quintant:i,orientation:c}=(0,a.BL)(e,o);if(r===b.To-1){const t=function(t){const n=l.LF.clone();return n.transform(m[t]),n}(i);return t}if(r===b.To-2)return function(){const t=[];for(const n of m)t.push(s.ZF(s.vt(),l.v,n));return new u.c(t)}();const f=r-b.To+1;return function(t,n,e){const o=(p?l.LF:l.tK).clone();s.ZF(x,e.offset,l.P9),e.flips[0]===h.NO&&e.flips[1]===h._Y&&o.rotate180();const{k:r}=e,i=e.flips[0]+e.flips[1];return((-2===i||2===i)&&r>1||0===i&&(0===r||3===r))&&o.reflectY(),e.flips[0]===h._Y&&e.flips[1]===h._Y?o.rotate180():e.flips[0]===h._Y?o.translate(g):e.flips[1]===h._Y&&o.translate(d),o.translate(x),o.scale(1/2**t),o.transform(m[n]),o}(f,i,(0,h.ky)(n,f,c))}function I(t){const{S:n,segment:e,origin:o,resolution:r}=(0,b.iu)(t),s=v(B({S:n,segment:e,origin:o,resolution:r}).getCenter(),o);return u.c.normalizeLongitudes([s])[0]}function P(t){const{S:n,segment:e,origin:o,resolution:r}=(0,b.iu)(t);return M(B({S:n,segment:e,origin:o,resolution:r}),o)}function k(t,n){const e=M(B(t),t.origin);return new u.c(e).containsPoint(n)}},2189:(t,n,e)=>{e.d(n,{To:()=>r,iu:()=>u,lK:()=>l,xZ:()=>f});var o=e(3243);const r=3,s=31,i=58n,a=0x3ffffffffffffffn;function c(t){let n=s-1,e=t>>1n;for(;n>0&&0n===(0b1n&e);)n-=1,e>>=n<r?1n:2n;return n}function u(t){const n=c(t);if(0===n)return{origin:o.kt[0],segment:0,S:0n,resolution:n};const e=Number(t>>58n);let s,u;if(1===n){const t=e;s=o.kt[t],u=0}else{const t=Math.floor(e/5);s=o.kt[t],u=(e+s.firstQuintant)%5}if(!s)throw new Error(`Could not parse origin: ${e}`);if(n<r)return{origin:s,segment:u,S:0n,resolution:n};const l=BigInt(2*(n-r+1));return{origin:s,segment:u,S:(t&a)>>i-l,resolution:n}}function l(t){const{origin:n,segment:e,S:o,resolution:a}=t;if(a>s)throw new Error(`Resolution (${a}) is too large`);if(0===a)return 0n;let c;if(a<r)c=BigInt(a);else{c=BigInt(2*(1+a-r)+1)}const u=(e-n.firstQuintant+5)%5;let l;if(l=1===a?BigInt(n.id)<<58n:BigInt(5*n.id+u)<<58n,a>=r){const t=BigInt(2*(a-r+1));if(BigInt(o)>=1n<<t)throw new Error(`S (${o}) is too large for resolution level ${a}`);l+=BigInt(o)<<i-t}return l|=1n<<i-c,l}function f(t,n){const{origin:e,segment:o,S:r,resolution:i}=u(t),a=n??i+1;if(a<=i)throw new Error(`Target resolution (${a}) must be greater than current resolution (${i})`);if(a>s)throw new Error(`Target resolution (${a}) exceeds maximum resolution (${s})`);const c=a-i,f=Math.pow(4,c),h=[],p=r<<BigInt(2*c);for(let s=0;s<f;s++){const t=p+BigInt(s);h.push(l({origin:e,segment:o,S:t,resolution:a}))}return h}},3243:(t,n,e)=>{e.d(n,{BL:()=>b,MQ:()=>j,Sj:()=>y,b5:()=>M,jS:()=>S,kt:()=>x});var o=e(7823),r=e(9699),s=e(329),i=e(842),a=e(1383),c=e(1148);o.fG(Float64Array);const u=[0,0,1],l=["vu","uw","vw","vw","vw"],f=["wu","uw","vw","vu","uw"],h=["wu","uv","wv","wu","uw"],p=["vu","uv","wv","wu","uw"],d=[l,p,h,f,h,p,h,f,f,f,p,p],g=[4,2,3,2,0,4,3,2,2,0,3,0],m=[0,1,2,4,3,5,7,8,6,11,10,9],x=[];let w=0;function v(t,n){const e={id:w,axis:t,quat:(0,a.r5)(t),angle:n,orientation:d[w],firstQuintant:g[w]};x.push(e),w++}function M(t,n){const e=n.orientation,o=((e===l||e===f?-1:1)*((t-n.firstQuintant+5)%5)+5)%5,r=e[o];return{segment:(n.firstQuintant+o)%5,orientation:r}}function b(t,n){const e=n.orientation,o=e===l||e===f?-1:1,r=(t-n.firstQuintant+5)%5,s=e[r];return{quintant:(n.firstQuintant+o*r+5)%5,orientation:s}}function j(t,n,e){const o=r.vt();r.B8(o,n.quat);const l=(0,a.uB)(e.axis),f=s.vt();s.gL(f,l,o);const h=i.vt();i.S8(h,[f[0],f[1]]),i.hs(h,h,2*c.mN);const p=i.vt();i.Re(p,t,h);const d=r.vt();return r.Yc(d,u,f),r.lw(d,n.quat,d),{point:p,quat:d}}function y(t){let n=1/0,e=x[0];for(const o of x){const r=B(t,o.axis);r<n&&(n=r,e=o)}return e}function S(t,n){return B(t,n.axis)>.49}function B(t,n){const[e,o]=t,[r,s]=n,i=r-e,a=s-o,c=Math.sin(a/2),u=Math.sin(i/2);return c*c+u*u*Math.sin(o)*Math.sin(s)}!function(){v([0,0],0);for(let t=0;t<5;t++){const n=t*c.UT,e=n+c.R;v([n,c.Kk],c.R),v([e,Math.PI-c.Kk],c.R)}v([0,Math.PI],0)}(),x.sort(((t,n)=>m.indexOf(t.id)-m.indexOf(n.id))),x.forEach(((t,n)=>t.id=n))},3255:(t,n,e)=>{e.d(n,{NO:()=>i,_Y:()=>s,eS:()=>v,ky:()=>m});var o=e(7823),r=e(842);o.fG(Float64Array);const s=-1,i=1,a=t=>{let[n,e]=t;return r.fA(n-e,e)},c=r.fA(1,0),u=r.fA(0,1),l=r.ze(r.vt(),c),f=r.ze(r.vt(),u),h=r.fA(0,0),p=(t,n)=>{let[e,o]=n,a=h,p=h;switch(e===i&&o===i?(a=c,p=u):e===s&&o===i?(a=f,p=l):e===i&&o===s?(a=u,p=c):e===s&&o===s&&(a=l,p=f),t){case 0:return h;case 1:return a;case 2:return r.WQ(r.vt(),p,a);case 3:return r.Ln(r.vt(),p,a,2);default:throw new Error(`Invalid Quaternary value: ${t}`)}},d=t=>[[i,i],[i,s],[i,i],[s,i]][t],g=r.fA(-1,1),m=(t,n,e)=>{let o=BigInt(t);const i="wv"===e||"vw"===e,a="wu"===e||"uw"===e;("vu"===e||"wu"===e||"vw"===e)&&(o=(1n<<BigInt(2*n))-o-1n);const c=x(o);if(a){const{offset:[t,n],flips:[e,o]}=c;c.offset=[n,t],e===s&&r.WQ(c.offset,c.offset,g),o===s&&r.Re(c.offset,c.offset,g)}if(i){const{offset:[t,e],flips:o}=c,r=(1<<n)-(t+e);o[0]=-o[0],c.offset[1]=r,c.flips=o}return c},x=t=>{const n=Number(t)%4,e=r.vt(),o=[i,i];let s=BigInt(t);const c=[];for(;s>0n;)c.push(Number(s%4n)),s>>=2n;for(let i=c.length-1;i>=0;i--){r.hs(e,e,2);const t=p(c[i],o);r.WQ(e,e,t),r.lw(o,o,d(c[i]))}return{flips:o,k:n,offset:a(e)}},w=(t,n)=>{let[e,o]=t,r=0,i=n[0]===s?-(e+o):e+o,a=n[1]===s?-e:e,c=n[0]===s?-o:o;return r=n[0]+n[1]===0?c<1?0:a>1?3:i>1?2:1:i<1?0:a>1?3:c>1?2:1,r},v=function(t,n,e){void 0===e&&(e="uv");const o="vu"===e||"wu"===e||"vw"===e,r="wv"===e||"vw"===e,s="wu"===e||"uw"===e;let i=[...t];if(s&&(i[0]=t[1],i[1]=t[0]),r){const[t,e]=i;i[1]=(1<<n)-(t+e)}let a=M(i);return o&&(a=(1n<<BigInt(2*n))-a-1n),a},M=t=>{const n=(t=>{const n=Math.ceil(t[0])+Math.ceil(t[1]);return 0===n?1:1+Math.floor(Math.log2(n))})(t),e=new Array(n),o=[i,i],s=r.vt();for(let i=0;i<n;i++){const c=r.Re(r.vt(),t,s),u=1<<n-1-i,l=r.hs(r.vt(),c,1/u),f=w(l,o);e[i]=f;const h=a(p(f,o)),g=r.hs(r.vt(),h,u);r.WQ(s,s,g),r.lw(o,o,d(f))}let c=0n;for(let r=0;r<n;r++){const t=1n<<BigInt(2*(n-1-r));c+=BigInt(e[r])*t}return c}},6864:(t,n,e)=>{e.d(n,{s:()=>m,r:()=>x});var o=e(7823),r=e(329),s=e(9699),i=e(1383),a=e(1148);function c(t){const n=t/a.UT;return(n-Math.round(n))*a.UT}function u(t){const n=t*a.ZP;return Math.tan(n)}const l=a.R,f=u(l)/l;function h(t){return function(t){return Math.atan(t)/a.ZP}(t*f)}function p(t,n){const e=t*(.95-.05*(Math.abs(n)/l));return Math.tan(e)}function d(t){let[n,e]=t;const o=c(e),r=function(t){return u(t)/f}(c(e)),s=r-o,i=Math.cos(o)/Math.cos(r)*n,l=a.mN/Math.cos(r),h=p(l,r)/l;return[p(i,r)/h,e+s]}function g(t){let[n,e]=t;const o=c(e),r=h(o),s=o-r,i=a.mN/Math.cos(o),u=function(t,n){const e=Math.abs(n)/l;return Math.atan(t)/(.95-.05*e)}(n*(p(i,o)/i),o);return[u/(Math.cos(r)/Math.cos(o)),e-s]}function m(t,n,e){const[o,s]=d(t),a=function(t){const[n,e]=t,o=n*Math.cos(e),r=n*Math.sin(e);return(0,i.lN)([o,r,1])}([o,s+e]),c=(0,i.uB)(a);return r.gL(c,c,n),(0,i.lN)(c)}function x(t,n,e){const[o,a,c]=(0,i.uB)(t),u=s.vt();s.B8(u,n);const l=r.vt();r.gL(l,[o,a,c],u);const f=function(t){const[n,e,o]=(0,i.uB)(t),r=n/o,s=e/o;return[Math.sqrt(r*r+s*s),Math.atan2(s,r)]}((0,i.lN)(l));return f[1]=f[1]-e,g(f)}o.fG(Float64Array)},8707:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>k,contentTitle:()=>P,default:()=>R,frontMatter:()=>I,metadata:()=>o,toc:()=>q});const o=JSON.parse('{"id":"golf","title":"Golf Ball Dimples","description":"","source":"@site/src/examples/golf.mdx","sourceDirName":".","slug":"/golf","permalink":"/examples/golf","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"examplesSidebar","previous":{"title":"Hierarchy","permalink":"/examples/hierarchy"}}');var r=e(4848),s=e(8453),i=e(6540),a=e(4258),c=(e(5338),e(186)),u=e(1986),l=e(2275),f=e(2805),h=e(4922),p=e(9485),d=e(1383);const g=Math.PI/40,m={center:{radius:.2/Math.tan(g),squeeze:.65},vertex:{radius:.13/Math.tan(g)/1,squeeze:1}};const x=(w=1,(0,p.g)(w+2).map((t=>{const n=t.map((t=>(0,d.uB)((0,d.Rb)(t)))),e=n.reduce(((t,n)=>[t[0]+n[0]/5,t[1]+n[1]/5,t[2]+n[2]/5]),[0,0,0]),o=new h.Pq0(...n[2]);return o.add(new h.Pq0(...n[3])),o.multiplyScalar(.5),o.sub(new h.Pq0(...n[0])),o.normalize(),{center:e,up:o}})));var w;const v=function(t){const n=(0,p.g)(t+2).flat(),e=new Map;return n.forEach((t=>{const n=(0,d.uB)((0,d.Rb)(t)),o=n.map((t=>Math.round(10*t*1))).join(",");if(!e.has(o)){const t=new h.Pq0(0,1,0);t.normalize(),e.set(o,{center:n,up:t})}})),Array.from(e.values())}(1);function M(t){let{dimplePositions:n,isZoomedIn:e,onZoomToggle:o,dimpleRadius:s,dimpleSqueeze:a}=t;const{camera:u}=(0,c.D)(),[p,d]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const t=u.position.clone();t.setLength(e?3:20),u.position.copy(t)}),[e]);const m=p?"#aaa":"#fff";(0,i.useEffect)((()=>{document.body.style.cursor=p?"pointer":"auto"}),[p]);const x=1.5+(1==a?.995:1.01)*s*Math.cos(g);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.OH,{files:"/textures/spruit_sunrise_4k.hdr.jpg",background:!0,backgroundBlurriness:e?.1:0,backgroundIntensity:e?.6:1}),(0,r.jsx)("directionalLight",{position:[5,0,3],intensity:1.5,castShadow:!0}),(0,r.jsxs)("group",{position:[0,-1,0],children:[(0,r.jsxs)("mesh",{renderOrder:1,onClick:o,onPointerOver:()=>d(!0),onPointerOut:()=>d(!1),children:[(0,r.jsx)("sphereGeometry",{args:[1.5,128,128]}),(0,r.jsx)("meshPhysicalMaterial",{color:m,metalness:.01,roughness:.1,clearcoat:.9,depthTest:!0,depthWrite:!1})]}),n.map(((t,n)=>{let{center:e,up:o}=t;const i=new h.Pq0(...e);i.multiplyScalar(x);const c=new h.kn4;c.lookAt(i,new h.Pq0(0,0,0),o);const u=(new h.kn4).makeRotationX(-Math.PI/2);c.multiply(u);const l=(new h.O9p).setFromRotationMatrix(c),f=[32,32,0,2*Math.PI,0,g];return(0,r.jsxs)("group",{children:[(0,r.jsxs)("mesh",{renderOrder:1,position:i,rotation:l,scale:new h.Pq0(a,1,1),children:[(0,r.jsx)("sphereGeometry",{args:[1.01*s,...f]}),(0,r.jsx)("meshBasicMaterial",{color:"#f00",colorWrite:!1,depthWrite:!0,depthTest:!0,side:h.$EB})]}),(0,r.jsxs)("mesh",{renderOrder:2,castShadow:!0,position:i,rotation:l,scale:new h.Pq0(a,1,1),children:[(0,r.jsx)("sphereGeometry",{args:[s,...f]}),(0,r.jsx)("meshPhysicalMaterial",{color:m,metalness:.05,roughness:.3,clearcoat:.8,clearcoatRoughness:.1,side:h.hsX,depthTest:!0,depthWrite:!1})]})]},n)}))]}),(0,r.jsx)(f.N,{enableDamping:!0,enableZoom:!1,minPolarAngle:Math.PI/4,maxPolarAngle:Math.PI/2,minAzimuthAngle:-Math.PI,maxAzimuthAngle:-Math.PI/2})]})}const b=()=>{const[t,n]=(0,i.useState)(!1),[e,o]=(0,i.useState)(!1),s=()=>n(!t),a=e?x:v,c=e?m.center:m.vertex;return(0,r.jsxs)("div",{style:{position:"absolute",height:"100%",width:"100%",top:0,left:0},children:[(0,r.jsxs)("div",{style:{position:"absolute",top:"20px",left:"20px",zIndex:1,display:"flex",flexDirection:"column",gap:"10px"},children:[(0,r.jsx)("button",{onClick:s,style:{padding:"8px 16px",borderRadius:"4px",border:"none",backgroundColor:"#fff",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:t?"Zoom Out":"Zoom In"}),(0,r.jsx)("button",{onClick:()=>o(!e),style:{padding:"8px 16px",borderRadius:"4px",border:"none",backgroundColor:"#fff",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:e?"Vertex Dimples":"Center Dimples"})]}),(0,r.jsx)(u.Hl,{camera:{position:[-15,0,-9]},gl:{toneMapping:h.FV,toneMappingExposure:.8,stencil:!0},children:(0,r.jsx)(i.Suspense,{fallback:null,children:(0,r.jsx)(M,{dimplePositions:a,isZoomedIn:t,onZoomToggle:s,dimpleRadius:c.radius,dimpleSqueeze:c.squeeze})})})]})},j=b;var y=e(999);class S extends i.Component{static title="Golf Ball Dimples";static code=(()=>`${a.l}/examples/website/golf`)();static parameters={};static renderInfo(t){return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Golf ball dimple layout using A5 pentagonal tiling."}),(0,r.jsx)("p",{children:"240 equal area dimples, distributed on the surface of a sphere."}),(0,r.jsx)("p",{children:"Production golf balls typically have 300-400 dimples, but they vary in size"}),(0,r.jsxs)("p",{children:["Background texture: ",(0,r.jsx)("a",{href:"https://polyhaven.org/a/spruit_sunrise",children:"Spruit Sunrise"})]})]})}render(){return(0,r.jsx)("div",{style:{width:"100%",height:"100%",position:"absolute",background:"#111"},children:(0,r.jsx)(j,{...this.props})})}}const B=(0,y.xv)(S),I={},P="Golf Ball Dimples",k={},q=[];function A(t){const n={h1:"h1",header:"header",...(0,s.R)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"golf-ball-dimples",children:"Golf Ball Dimples"})}),"\n","\n",(0,r.jsx)(B,{})]})}function R(t={}){const{wrapper:n}={...(0,s.R)(),...t.components};return n?(0,r.jsx)(n,{...t,children:(0,r.jsx)(A,{...t})}):A(t)}},9485:(t,n,e)=>{e.d(n,{g:()=>s});var o=e(1921),r=e(2189);function s(t){let n=[],e=1,s=0n;1===t?(e=12,s=0b10n<<56n):(e=60,s=0b01n<<56n);for(let i=0;i<e;i++){const e=BigInt(i)<<58n|s;if(t<r.To)n.push((0,o.u$)(e));else{const s=(0,r.xZ)(e,t);n=n.concat(s.map((t=>(0,o.u$)(t))))}}return n}}}]);