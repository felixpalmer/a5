"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[8617],{1383:(t,n,o)=>{o.d(n,{$p:()=>u,Rb:()=>p,WP:()=>m,lN:()=>d,o4:()=>f,q8:()=>l,r5:()=>x,uB:()=>g});var e=o(7823),r=o(842),i=o(9699),s=o(1997);function a(t){return t*(Math.PI/180)}function c(t){return t*(180/Math.PI)}function l(t){return[r.Bw(t),Math.atan2(t[1],t[0])]}function u(t){let[n,o]=t;return[n*Math.cos(o),n*Math.sin(o)]}function f(t){return r.ZF(r.vt(),t,s.wc)}function d(t){const n=Math.atan2(t[1],t[0]),o=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return[n,Math.acos(t[2]/o)]}function g(t){let[n,o]=t;return[Math.sin(o)*Math.cos(n),Math.sin(o)*Math.sin(n),Math.cos(o)]}e.fG(Float64Array);const h=93;function p(t){let[n,o]=t;return[a(n+h),a(90-o)]}function m(t){let[n,o]=t;return[c(n)-h,90-c(o)]}function x(t){const n=g(t),o=i.vt();return i.Yc(o,[0,0,1],n),o}},1390:(t,n,o)=>{o.r(n),o.d(n,{default:()=>h});var e=o(6540),r=o(999),i=o(9030),s=o(6065),a=o(1410),c=o(9414),l=o(4848);class u extends e.Component{constructor(t){super(t)}render(){return(0,l.jsx)(c.A,{showCellId:!1})}}const f=(0,r.xv)(u,{isInteractive:!1}),d=s.Ay.div.withConfig({displayName:"pages__FeatureImage",componentId:"sc-tl00pn-0"})(["position:absolute;height:100%;width:50%;top:0;right:0;z-index:-1;border-top:solid 200px transparent;background-image:url(",");background-size:contain;background-repeat:no-repeat;background-position:right top;@media screen and (max-width:768px){display:none;}"],(t=>t.src)),g=s.Ay.div.withConfig({displayName:"pages__TextContainer",componentId:"sc-tl00pn-1"})(["max-width:800px;padding:64px 112px;width:70%;font-size:14px;h2{font:bold 32px/48px;margin:24px 0 16px;position:relative;}h3{font:bold 16px/24px;margin:16px 0 0;position:relative;}h3 > img{position:absolute;top:0;width:20px;left:-30px;}hr{border:none;background:#e1e8f0;height:1px;margin:24px 0 0;width:32px;height:2px;}@media screen and (max-width:768px){max-width:100%;width:100%;padding:48px 48px 48px 80px;}"]);function h(){const t=(0,i.Ay)("/");return(0,l.jsx)(a.A,{title:"Home",description:"A5 tiling system",children:(0,l.jsx)(r.ww,{HeroExample:f,children:(0,l.jsxs)("div",{style:{position:"relative"},children:[(0,l.jsx)(d,{src:`${t}images/maps.jpg`}),(0,l.jsxs)(g,{children:[(0,l.jsxs)("h3",{children:[(0,l.jsx)("img",{src:`${t}images/pentagon.svg`}),"Pentagonal Discrete Global Grid System"]}),(0,l.jsxs)("p",{children:["A5 is a global geospatial index. It is the pentagonal equivalent of other DGGSs, like ",(0,l.jsx)("a",{href:"http://s2geometry.io/",children:"S2"})," or ",(0,l.jsx)("a",{href:"https://h3geo.org/",children:"H3"}),", but with higher accuracy and lower distortion."]}),(0,l.jsxs)("h3",{children:[(0,l.jsx)("img",{src:`${t}images/pentagon.svg`}),"Flexible representation of geospatial data"]}),(0,l.jsx)("p",{children:"A5 is used for representing points, lines, and polygons in a unified cell format, which is well suited for combining datasets and aggregating data."}),(0,l.jsxs)("h3",{children:[(0,l.jsx)("img",{src:`${t}images/pentagon.svg`}),"Uniform Cell Sizes with Minimal Distortion"]}),(0,l.jsx)("p",{children:"Data from all around the world can be directly compared due to the practically equal areas of all A5 cells."})]})]})})})}},1798:(t,n,o)=>{o.d(n,{u$:()=>r.u$,WH:()=>r.WH,uU:()=>i,ce:()=>r.ce});var e=o(7823),r=o(1921);function i(t){return BigInt(`0x${t}`)}o(2189);e.fG(Float64Array)},1921:(t,n,o)=>{o.d(n,{u$:()=>k,WH:()=>A,ce:()=>y});var e=o(7823),r=o(3522),i=o(842),s=o(1383),a=o(3243),c=o(6864),l=o(1970),u=o(1997),f=o(1148),d=o(3255);e.fG(Float64Array);const g=!1,h=i.o8(u.w),p=i.ze(i.vt(),u.w),m=[0,1,2,3,4].map((t=>{const n=r.vt();return r.$0(n,f.UT*t),n})),x=i.vt();e.fG(Float64Array);const w=r.vt();function v(t,n){const o=(0,s.q8)(t),e=(0,c.s)(o,n.quat,n.angle),l=(0,a.jS)(e,n)?n:(0,a.Sj)(e);if(l.id!==n.id){const o=i.vt();r.$0(w,n.angle),i.ZF(o,t,w);const{point:u,quat:d}=(0,a.MQ)(o,n,l);let g=0;n.angle!==l.angle&&0!==l.angle&&(g=-f.R);let h=(0,s.q8)(u);h[1]=h[1]-g;const p=(0,c.s)(h,d,g);e[0]=p[0],e[1]=p[1]}return(0,s.WP)(e)}function M(t,n){const o=t.getVertices().map((t=>v(t,n)));return l.c.normalizeLongitudes(o)}var b=o(2189);e.fG(Float64Array);const S=r.vt();function y(t,n){const o=1+n-b.To,e=[t],r=50/Math.pow(2,o);for(let l=0;l<25;l++){const n=l/25*r,o=i.fA(Math.cos(l)*n,Math.sin(l)*n);i.WQ(o,o,t),e.push(o)}const s=[];for(const i of e){const o=j(i,n);if(n<b.To||B(o,t))return(0,b.lK)(o);s.push(o)}let a=1/0,c=null;for(const l of s){const n=v(I(l).getCenter(),l.origin),o=i.xg(n,t);o<a&&(a=o,c=l)}if(c)return(0,b.lK)(c);throw new Error("No cell found")}function j(t,n){const o=(0,s.Rb)(t),e={...(0,a.Sj)(o)};r.$0(S,-e.angle);const l=(0,c.r)(o,e.quat,e.angle),g=(0,s.$p)(l),h=function(t){const n=(Math.atan2(t[1],t[0])-u.V+f.JM)%f.JM;return Math.ceil(n/f.UT)%5}(g),{segment:p,orientation:m}=(0,a.b5)(h,e);if(n<b.To)return{S:0n,segment:p,origin:e,resolution:n};if(0!==h){const t=2*f.R*h;r.$0(S,-t),i.ZF(g,g,S)}const x=1+n-b.To;i.hs(g,g,2**x);const w=(0,s.o4)(g);return{S:(0,d.eS)(w,x,m),segment:p,origin:e,resolution:n}}function I(t){let{S:n,segment:o,origin:e,resolution:r}=t;const{quintant:s,orientation:c}=(0,a.BL)(o,e);if(r===b.To-1){const t=function(t){const n=u.LF.clone();return n.transform(m[t]),n}(s);return t}if(r===b.To-2)return function(){const t=[];for(const n of m)t.push(i.ZF(i.vt(),u.v,n));return new l.c(t)}();const f=r-b.To+1;return function(t,n,o){const e=(g?u.LF:u.tK).clone();i.ZF(x,o.offset,u.P9),o.flips[0]===d.NO&&o.flips[1]===d._Y&&e.rotate180();const{k:r}=o,s=o.flips[0]+o.flips[1];return((-2===s||2===s)&&r>1||0===s&&(0===r||3===r))&&e.reflectY(),o.flips[0]===d._Y&&o.flips[1]===d._Y?e.rotate180():o.flips[0]===d._Y?e.translate(p):o.flips[1]===d._Y&&e.translate(h),e.translate(x),e.scale(1/2**t),e.transform(m[n]),e}(f,s,(0,d.ky)(n,f,c))}function A(t){const{S:n,segment:o,origin:e,resolution:r}=(0,b.iu)(t),i=v(I({S:n,segment:o,origin:e,resolution:r}).getCenter(),e);return l.c.normalizeLongitudes([i])[0]}function k(t){const{S:n,segment:o,origin:e,resolution:r}=(0,b.iu)(t);return M(I({S:n,segment:o,origin:e,resolution:r}),e)}function B(t,n){const o=M(I(t),t.origin);return new l.c(o).containsPoint(n)}},2189:(t,n,o)=>{o.d(n,{To:()=>r,iu:()=>c,lK:()=>l,xZ:()=>u});var e=o(3243);const r=3,i=31,s=58n,a=0x3ffffffffffffffn;function c(t){const n=function(t){let n=i-1,o=t>>1n;for(;n>0&&0n===(0b1n&o);)n-=1,o>>=n<r?1n:2n;return n}(t);if(0===n)return{origin:e.kt[0],segment:0,S:0n,resolution:n};const o=Number(t>>58n);let c,l;if(1===n){const t=o;c=e.kt[t],l=0}else{const t=Math.floor(o/5);c=e.kt[t],l=(o+c.firstQuintant)%5}if(!c)throw new Error(`Could not parse origin: ${o}`);if(n<r)return{origin:c,segment:l,S:0n,resolution:n};const u=BigInt(2*(n-r+1));return{origin:c,segment:l,S:(t&a)>>s-u,resolution:n}}function l(t){const{origin:n,segment:o,S:e,resolution:a}=t;if(a>i)throw new Error(`Resolution (${a}) is too large`);if(0===a)return 0n;let c;if(a<r)c=BigInt(a);else{c=BigInt(2*(1+a-r)+1)}const l=(o-n.firstQuintant+5)%5;let u;if(u=1===a?BigInt(n.id)<<58n:BigInt(5*n.id+l)<<58n,a>=r){const t=BigInt(2*(a-r+1));if(BigInt(e)>=1n<<t)throw new Error(`S (${e}) is too large for resolution level ${a}`);u+=BigInt(e)<<s-t}return u|=1n<<s-c,u}function u(t,n){const{origin:o,segment:s,S:a,resolution:u}=c(t),f=n??u+1;if(f<=u)throw new Error(`Target resolution (${f}) must be greater than current resolution (${u})`);if(f>i)throw new Error(`Target resolution (${f}) exceeds maximum resolution (${i})`);let d=[o],g=[s];0===u&&(d=e.kt),(0===u&&f>1||1===u)&&(g=[0,1,2,3,4]);const h=f-Math.max(u,r-1),p=Math.pow(4,h),m=[],x=a<<BigInt(2*h);for(const e of d)for(const t of g)for(let n=0;n<p;n++){const o=x+BigInt(n);m.push(l({origin:e,segment:t,S:o,resolution:f}))}return m}},3243:(t,n,o)=>{o.d(n,{BL:()=>b,MQ:()=>S,Sj:()=>y,b5:()=>M,jS:()=>j,kt:()=>x});var e=o(7823),r=o(9699),i=o(329),s=o(842),a=o(1383),c=o(1148);e.fG(Float64Array);const l=[0,0,1],u=["vu","uw","vw","vw","vw"],f=["wu","uw","vw","vu","uw"],d=["wu","uv","wv","wu","uw"],g=["vu","uv","wv","wu","uw"],h=[u,g,d,f,d,g,d,f,f,f,g,g],p=[4,2,3,2,0,4,3,2,2,0,3,0],m=[0,1,2,4,3,5,7,8,6,11,10,9],x=[];let w=0;function v(t,n){const o={id:w,axis:t,quat:(0,a.r5)(t),angle:n,orientation:h[w],firstQuintant:p[w]};x.push(o),w++}function M(t,n){const o=n.orientation,e=((o===u||o===f?-1:1)*((t-n.firstQuintant+5)%5)+5)%5,r=o[e];return{segment:(n.firstQuintant+e)%5,orientation:r}}function b(t,n){const o=n.orientation,e=o===u||o===f?-1:1,r=(t-n.firstQuintant+5)%5,i=o[r];return{quintant:(n.firstQuintant+e*r+5)%5,orientation:i}}function S(t,n,o){const e=r.vt();r.B8(e,n.quat);const u=(0,a.uB)(o.axis),f=i.vt();i.gL(f,u,e);const d=s.vt();s.S8(d,[f[0],f[1]]),s.hs(d,d,2*c.mN);const g=s.vt();s.Re(g,t,d);const h=r.vt();return r.Yc(h,l,f),r.lw(h,n.quat,h),{point:g,quat:h}}function y(t){let n=1/0,o=x[0];for(const e of x){const r=I(t,e.axis);r<n&&(n=r,o=e)}return o}function j(t,n){return I(t,n.axis)>.49}function I(t,n){const[o,e]=t,[r,i]=n,s=r-o,a=i-e,c=Math.sin(a/2),l=Math.sin(s/2);return c*c+l*l*Math.sin(e)*Math.sin(i)}!function(){v([0,0],0);for(let t=0;t<5;t++){const n=t*c.UT,o=n+c.R;v([n,c.Kk],c.R),v([o,Math.PI-c.Kk],c.R)}v([0,Math.PI],0)}(),x.sort(((t,n)=>m.indexOf(t.id)-m.indexOf(n.id))),x.forEach(((t,n)=>t.id=n))},3255:(t,n,o)=>{o.d(n,{NO:()=>s,_Y:()=>i,eS:()=>v,ky:()=>m});var e=o(7823),r=o(842);e.fG(Float64Array);const i=-1,s=1,a=t=>{let[n,o]=t;return r.fA(n-o,o)},c=r.fA(1,0),l=r.fA(0,1),u=r.ze(r.vt(),c),f=r.ze(r.vt(),l),d=r.fA(0,0),g=(t,n)=>{let[o,e]=n,a=d,g=d;switch(o===s&&e===s?(a=c,g=l):o===i&&e===s?(a=f,g=u):o===s&&e===i?(a=l,g=c):o===i&&e===i&&(a=u,g=f),t){case 0:return d;case 1:return a;case 2:return r.WQ(r.vt(),g,a);case 3:return r.Ln(r.vt(),g,a,2);default:throw new Error(`Invalid Quaternary value: ${t}`)}},h=t=>[[s,s],[s,i],[s,s],[i,s]][t],p=r.fA(-1,1),m=(t,n,o)=>{let e=BigInt(t);const s="wv"===o||"vw"===o,a="wu"===o||"uw"===o;("vu"===o||"wu"===o||"vw"===o)&&(e=(1n<<BigInt(2*n))-e-1n);const c=x(e);if(a){const{offset:[t,n],flips:[o,e]}=c;c.offset=[n,t],o===i&&r.WQ(c.offset,c.offset,p),e===i&&r.Re(c.offset,c.offset,p)}if(s){const{offset:[t,o],flips:e}=c,r=(1<<n)-(t+o);e[0]=-e[0],c.offset[1]=r,c.flips=e}return c},x=t=>{const n=Number(t)%4,o=r.vt(),e=[s,s];let i=BigInt(t);const c=[];for(;i>0n;)c.push(Number(i%4n)),i>>=2n;for(let s=c.length-1;s>=0;s--){r.hs(o,o,2);const t=g(c[s],e);r.WQ(o,o,t),r.lw(e,e,h(c[s]))}return{flips:e,k:n,offset:a(o)}},w=(t,n)=>{let[o,e]=t,r=0,s=n[0]===i?-(o+e):o+e,a=n[1]===i?-o:o,c=n[0]===i?-e:e;return r=n[0]+n[1]===0?c<1?0:a>1?3:s>1?2:1:s<1?0:a>1?3:c>1?2:1,r},v=function(t,n,o){void 0===o&&(o="uv");const e="vu"===o||"wu"===o||"vw"===o,r="wv"===o||"vw"===o,i="wu"===o||"uw"===o;let s=[...t];if(i&&(s[0]=t[1],s[1]=t[0]),r){const[t,o]=s;s[1]=(1<<n)-(t+o)}let a=M(s);return e&&(a=(1n<<BigInt(2*n))-a-1n),a},M=t=>{const n=(t=>{const n=Math.ceil(t[0])+Math.ceil(t[1]);return 0===n?1:1+Math.floor(Math.log2(n))})(t),o=new Array(n),e=[s,s],i=r.vt();for(let s=0;s<n;s++){const c=r.Re(r.vt(),t,i),l=1<<n-1-s,u=r.hs(r.vt(),c,1/l),f=w(u,e);o[s]=f;const d=a(g(f,e)),p=r.hs(r.vt(),d,l);r.WQ(i,i,p),r.lw(e,e,h(f))}let c=0n;for(let r=0;r<n;r++){const t=1n<<BigInt(2*(n-1-r));c+=BigInt(o[r])*t}return c}},6864:(t,n,o)=>{o.d(n,{s:()=>m,r:()=>x});var e=o(7823),r=o(329),i=o(9699),s=o(1383),a=o(1148);function c(t){const n=t/a.UT;return(n-Math.round(n))*a.UT}function l(t){const n=t*a.ZP;return Math.tan(n)}const u=a.R,f=l(u)/u;function d(t){return function(t){return Math.atan(t)/a.ZP}(t*f)}function g(t,n){const o=t*(.95-.05*(Math.abs(n)/u));return Math.tan(o)}function h(t){let[n,o]=t;const e=c(o),r=function(t){return l(t)/f}(c(o)),i=r-e,s=Math.cos(e)/Math.cos(r)*n,u=a.mN/Math.cos(r),d=g(u,r)/u;return[g(s,r)/d,o+i]}function p(t){let[n,o]=t;const e=c(o),r=d(e),i=e-r,s=a.mN/Math.cos(e),l=function(t,n){const o=Math.abs(n)/u;return Math.atan(t)/(.95-.05*o)}(n*(g(s,e)/s),e);return[l/(Math.cos(r)/Math.cos(e)),o-i]}function m(t,n,o){const[e,i]=h(t),a=function(t){const[n,o]=t,e=n*Math.cos(o),r=n*Math.sin(o);return(0,s.lN)([e,r,1])}([e,i+o]),c=(0,s.uB)(a);return r.gL(c,c,n),(0,s.lN)(c)}function x(t,n,o){const[e,a,c]=(0,s.uB)(t),l=i.vt();i.B8(l,n);const u=r.vt();r.gL(u,[e,a,c],l);const f=function(t){const[n,o,e]=(0,s.uB)(t),r=n/e,i=o/e;return[Math.sqrt(r*r+i*i),Math.atan2(i,r)]}((0,s.lN)(u));return f[1]=f[1]-o,p(f)}e.fG(Float64Array)},9414:(t,n,o)=>{o.d(n,{A:()=>m});var e=o(6540),r=(o(5338),o(9533)),i=o(8346),s=o(4567),a=o(3537),c=o(1798),l=o(2478),u=o(3494),f=o(4848);const d={longitude:-.1276,latitude:51.50735,zoom:10,minZoom:2,maxZoom:27},g=[0,170,85],h=[0,128,64],p=t=>{let{showCellId:n=!0}=t;const[o,p]=(0,e.useState)(d),[m,x]=(0,e.useState)([d.longitude,d.latitude]),w=(0,e.useCallback)((t=>{let{viewState:n}=t;const[o,e]=m;p({...d,zoom:n.zoom,longitude:o,latitude:e})}),[m]),v=(0,e.useCallback)((t=>{const[n,o]=t.coordinate;p((t=>({...t,longitude:n,latitude:o}))),x([n,o])}),[]);let M=Math.min(Math.floor(2*o.zoom-4),Math.floor(o.zoom+3));M=Math.max(1,Math.min(31,M));const b=(0,e.useMemo)((()=>{const t=(0,c.ce)(m,M);return{cellId:t,children:[t]}}),[M,m]),S={data:(0,e.useMemo)((()=>b.children.map((t=>{const n=(0,c.u$)(t);return n.map(((o,e)=>({source:o,target:n[(e+1)%n.length],cellId:t})))})).flat()),[b.children]),getSourcePosition:t=>t.source,getTargetPosition:t=>t.target,getSourceColor:g,getTargetColor:g,getColor:g,getWidth:2,getHeight:0,greatCircle:!0,widthUnits:"pixels"},y=new i.A({id:"cell-boundaries-arc",...S}),j=new s.A({id:"cell-boundaries-line",...S}),I=new a.A({id:"source-point",data:[m],getPosition:t=>t,getFillColor:h,getRadius:5,radiusUnits:"pixels",pickable:!0,stroked:!0,getLineColor:[255,255,255,255],getLineWidth:2,lineWidthUnits:"pixels"}),A=b.cellId.toString(2).padStart(64,"0"),k=2*Math.max(0,M-2)+6,B=2+k,F=A.substring(0,6),C=A.substring(6,k),$=A.substring(k,B),T=A.substring(B);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.A,{views:new u.A({repeat:!0}),layers:[I,y,j],viewState:o,onViewStateChange:w,controller:{dragRotate:!1},onClick:v,layerFilter:t=>{let{layer:n}=t;return"cell-boundaries-arc"===n.id?o.zoom<8:"cell-boundaries-line"!==n.id||o.zoom>=8},children:(0,f.jsx)(r.T5,{mapStyle:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",maxZoom:24})}),n&&(0,f.jsxs)("div",{style:{position:"absolute",bottom:"20px",left:"20px",backgroundColor:"white",color:"black",padding:"10px",borderRadius:"5px",fontFamily:"monospace",fontSize:"14px",maxWidth:"calc(100% - 40px)",overflow:"auto",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:[(0,f.jsxs)("div",{children:["Cell ID (binary):",(0,f.jsx)("span",{style:{fontWeight:"bold",color:"#0066FF"},children:F}),(0,f.jsx)("span",{style:{fontWeight:"bold",color:"#000000"},children:C}),(0,f.jsx)("span",{style:{fontWeight:"bold",color:"#FF0066"},children:$}),(0,f.jsx)("span",{style:{fontWeight:"bold",color:"#999999"},children:T})]}),(0,f.jsxs)("div",{children:["Cell ID (Hex): ",`0x${b.cellId.toString(16).padStart(16,"0")}`]}),(0,f.jsxs)("div",{children:["Resolution: ",M]}),(0,f.jsxs)("div",{children:["Location: [",m[0].toFixed(4),", ",m[1].toFixed(4),"]"]})]})]})},m=p}}]);